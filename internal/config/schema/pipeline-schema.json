{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://canectors.io/schemas/pipeline/v1.1.0/pipeline-schema.json",
  "title": "Canectors Pipeline Configuration Schema",
  "description": "Schema for defining declarative modular pipeline configurations. Supports Input \u2192 Filter \u2192 Output pattern with extensible module types.",
  "type": "object",
  "required": [
    "connector"
  ],
  "properties": {
    "schemaVersion": {
      "type": "string",
      "description": "Version of the schema this configuration conforms to.",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "examples": [
        "1.0.0",
        "1.1.0"
      ]
    },
    "connector": {
      "$ref": "#/$defs/connector"
    },
    "connections": {
      "$ref": "#/$defs/connections"
    }
  },
  "additionalProperties": false,
  "$defs": {
    "connections": {
      "type": "object",
      "description": "Reusable connection configurations. Reference by name using connectionRef in modules.",
      "additionalProperties": {
        "$ref": "#/$defs/connection"
      }
    },
    "connection": {
      "type": "object",
      "description": "A reusable connection configuration.",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "description": "Connection type.",
          "examples": [
            "http",
            "sql",
            "kafka"
          ]
        },
        "baseUrl": {
          "type": "string",
          "description": "Base URL for HTTP connections. Module endpoint is appended unless endpoint is absolute URL.",
          "examples": [
            "https://api.example.com"
          ]
        },
        "auth": {
          "$ref": "#/$defs/authentication"
        },
        "headers": {
          "$ref": "#/$defs/httpHeaders",
          "description": "Default headers. Module headers override these."
        },
        "timeoutMs": {
          "type": "integer",
          "description": "Default timeout. Module timeoutMs overrides.",
          "minimum": 0,
          "default": 30000
        }
      },
      "additionalProperties": true
    },
    "connector": {
      "type": "object",
      "description": "The connector pipeline configuration.",
      "required": [
        "name",
        "version",
        "input",
        "filters",
        "output"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Unique identifier for this connector.",
          "pattern": "^[a-z][a-z0-9_-]*$",
          "minLength": 1,
          "maxLength": 128
        },
        "version": {
          "type": "string",
          "description": "Connector version (semver).",
          "pattern": "^\\d+\\.\\d+\\.\\d+$"
        },
        "description": {
          "type": "string",
          "maxLength": 1024
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-z][a-z0-9_-]*$"
          },
          "uniqueItems": true
        },
        "labels": {
          "type": "object",
          "description": "Key-value metadata (team, domain, etc.).",
          "additionalProperties": {
            "type": "string"
          }
        },
        "defaults": {
          "$ref": "#/$defs/moduleDefaults",
          "description": "Default settings for all modules. Module-level settings override these."
        },
        "input": {
          "$ref": "#/$defs/inputModule"
        },
        "filters": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/filterModule"
          }
        },
        "output": {
          "$ref": "#/$defs/outputModule"
        },
        "errorHandling": {
          "$ref": "#/$defs/errorHandling",
          "description": "DEPRECATED: Use 'defaults' instead. Kept for backward compatibility."
        },
        "schedule": false
      },
      "additionalProperties": true
    },
    "moduleDefaults": {
      "type": "object",
      "description": "Default settings applied to all modules unless overridden at module level.",
      "properties": {
        "onError": {
          "type": "string",
          "description": "Default error action.",
          "enum": [
            "fail",
            "skip",
            "log"
          ],
          "default": "fail"
        },
        "timeoutMs": {
          "type": "integer",
          "description": "Default timeout in milliseconds.",
          "minimum": 0,
          "default": 30000
        },
        "retry": {
          "$ref": "#/$defs/retryConfig"
        }
      },
      "additionalProperties": true
    },
    "retryConfig": {
      "type": "object",
      "description": "Retry configuration. Precedence: module > defaults > errorHandling.",
      "properties": {
        "maxAttempts": {
          "type": "integer",
          "description": "Maximum retry attempts (0 = no retry).",
          "minimum": 0,
          "maximum": 10,
          "default": 3
        },
        "delayMs": {
          "type": "integer",
          "description": "Initial delay between retries in milliseconds.",
          "minimum": 0,
          "default": 1000
        },
        "backoffMultiplier": {
          "type": "number",
          "description": "Multiplier for exponential backoff.",
          "minimum": 1,
          "maximum": 10,
          "default": 2
        },
        "maxDelayMs": {
          "type": "integer",
          "description": "Maximum delay between retries.",
          "minimum": 0,
          "default": 30000
        },
        "retryableStatusCodes": {
          "type": "array",
          "description": "HTTP status codes that trigger retry.",
          "items": {
            "type": "integer",
            "minimum": 400,
            "maximum": 599
          },
          "default": [
            429,
            500,
            502,
            503,
            504
          ]
        },
        "useRetryAfterHeader": {
          "type": "boolean",
          "description": "Use Retry-After response header to determine delay before retrying. Supports seconds format (e.g., '120') or HTTP-date format (e.g., 'Fri, 31 Dec 2025 23:59:59 GMT'). The delay is capped by maxDelayMs. If header is invalid or absent, falls back to exponential backoff.",
          "default": false
        },
        "retryHintFromBody": {
          "type": "string",
          "description": "expr expression to evaluate against JSON response body. The parsed JSON body is available as the 'body' variable. If expression returns true, error is retryable (if status code is in retryableStatusCodes). If false, error is NOT retryable (overrides status code). If body is not valid JSON, falls back to status code only. Example: 'body.retryable == true' or 'body.error.code != \"PERMANENT\"'.",
          "default": ""
        }
      },
      "additionalProperties": true
    },
    "moduleBase": {
      "type": "object",
      "description": "Common properties for all modules.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier within the pipeline.",
          "pattern": "^[a-z][a-z0-9_-]*$"
        },
        "name": {
          "type": "string",
          "description": "Human-readable name.",
          "maxLength": 128
        },
        "description": {
          "type": "string",
          "maxLength": 1024
        },
        "enabled": {
          "type": "boolean",
          "description": "Whether module is active.",
          "default": true
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "notes": {
          "type": "string",
          "description": "Internal notes (not used at runtime)."
        },
        "onError": {
          "type": "string",
          "description": "Error action for this module. Overrides defaults.",
          "enum": [
            "fail",
            "skip",
            "log"
          ]
        },
        "timeoutMs": {
          "type": "integer",
          "description": "Timeout for this module. Overrides defaults.",
          "minimum": 0
        },
        "retry": {
          "$ref": "#/$defs/retryConfig",
          "description": "Retry config for this module. Overrides defaults."
        }
      }
    },
    "inputModule": {
      "type": "object",
      "description": "Input module configuration.",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "description": "Input type. Canonical: httpPolling, webhook.",
          "minLength": 1
        },
        "connectionRef": {
          "type": "string",
          "description": "Reference to connection in connections section."
        },
        "endpoint": {
          "type": "string",
          "description": "API endpoint. If absolute URL, ignores connectionRef.baseUrl."
        },
        "path": {
          "type": "string",
          "description": "Webhook path."
        },
        "schedule": {
          "type": "string",
          "description": "CRON expression for polling input types. Required for httpPolling, not allowed for webhook. Validated at runtime.",
          "minLength": 9
        },
        "method": {
          "$ref": "#/$defs/httpMethod"
        },
        "headers": {
          "$ref": "#/$defs/httpHeaders"
        },
        "queryParams": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "authentication": {
          "$ref": "#/$defs/authentication"
        },
        "pagination": {
          "$ref": "#/$defs/pagination"
        },
        "statePersistence": {
          "$ref": "#/$defs/statePersistence",
          "description": "State persistence configuration for reliable resumption after restarts."
        }
      },
      "additionalProperties": true,
      "allOf": [
        {
          "$ref": "#/$defs/moduleBase"
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "httpPolling"
              }
            },
            "required": [
              "type"
            ]
          },
          "then": {
            "required": [
              "endpoint",
              "schedule"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "webhook"
              }
            },
            "required": [
              "type"
            ]
          },
          "then": {
            "required": [
              "path"
            ],
            "not": {
              "required": [
                "schedule"
              ]
            }
          }
        }
      ]
    },
    "statePersistence": {
      "type": "object",
      "description": "State persistence configuration for polling input modules. Enables reliable resumption after restarts by persisting execution timestamp and/or last processed ID.",
      "properties": {
        "timestamp": {
          "type": "object",
          "description": "Timestamp persistence configuration. Uses pipeline execution start timestamp.",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Enable timestamp persistence.",
              "default": false
            },
            "queryParam": {
              "type": "string",
              "description": "Query parameter name for API filtering (e.g., 'since', 'updated_after'). If set, adds ?{queryParam}={timestamp} to requests.",
              "examples": [
                "since",
                "updated_after",
                "modified_since"
              ],
              "minLength": 1
            }
          },
          "additionalProperties": false
        },
        "id": {
          "type": "object",
          "description": "ID persistence configuration. Tracks maximum ID from processed records.",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Enable ID persistence.",
              "default": false
            },
            "field": {
              "type": "string",
              "description": "Field path to extract ID from records. Supports dot notation for nested fields. Required when enabled is true.",
              "examples": [
                "id",
                "record_id",
                "cursor",
                "data.id"
              ],
              "minLength": 1
            },
            "queryParam": {
              "type": "string",
              "description": "Query parameter name for API filtering (e.g., 'after_id', 'since_id'). If set, adds ?{queryParam}={lastId} to requests.",
              "examples": [
                "after_id",
                "since_id",
                "cursor"
              ],
              "minLength": 1
            }
          },
          "additionalProperties": false
        },
        "storagePath": {
          "type": "string",
          "description": "Custom storage directory path. Defaults to './canectors-data/state'.",
          "minLength": 1
        }
      },
      "additionalProperties": false,
      "allOf": [
        {
          "if": {
            "properties": {
              "id": {
                "properties": {
                  "enabled": {
                    "const": true
                  }
                },
                "required": [
                  "enabled"
                ]
              }
            }
          },
          "then": {
            "properties": {
              "id": {
                "required": [
                  "field"
                ]
              }
            }
          }
        }
      ]
    },
    "pagination": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "cursor",
            "offset",
            "page",
            "link"
          ]
        },
        "cursorPath": {
          "type": "string"
        },
        "cursorParam": {
          "type": "string"
        },
        "itemsPath": {
          "type": "string"
        },
        "limitParam": {
          "type": "string"
        },
        "limit": {
          "type": "integer",
          "minimum": 1,
          "default": 100
        }
      },
      "additionalProperties": true
    },
    "filterModule": {
      "type": "object",
      "description": "Filter module configuration.",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "description": "Filter type. Canonical: mapping, condition, script, enrichment.",
          "minLength": 1
        },
        "script": {
          "type": "string",
          "description": "Inline JavaScript source code for script filter. Must define a transform(record) function. Use either 'script' or 'scriptFile', not both.",
          "maxLength": 102400
        },
        "scriptFile": {
          "type": "string",
          "description": "Path to a JavaScript file for script filter. Must define a transform(record) function. Use either 'script' or 'scriptFile', not both."
        },
        "connectionRef": {
          "type": "string"
        },
        "sourceSchema": {
          "type": "string"
        },
        "targetSchema": {
          "type": "string"
        },
        "mappings": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/fieldMapping"
          }
        },
        "mapping": {
          "$ref": "#/$defs/advancedMapping"
        },
        "lang": {
          "type": "string",
          "description": "Expression language for conditions.",
          "enum": [
            "cel",
            "jsonata",
            "jmespath",
            "simple"
          ],
          "default": "simple"
        },
        "expression": {
          "type": "string",
          "description": "Condition expression."
        },
        "onTrue": {
          "type": "string",
          "enum": [
            "continue",
            "skip"
          ],
          "default": "continue"
        },
        "onFalse": {
          "type": "string",
          "enum": [
            "continue",
            "skip"
          ],
          "default": "skip"
        },
        "copies": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/cloneCopy"
          }
        },
        "endpoint": {
          "type": "string",
          "description": "HTTP endpoint URL for enrichment filter. May contain {paramName} placeholder for path parameters."
        },
        "key": {
          "$ref": "#/$defs/enrichmentKey",
          "description": "Key configuration for enrichment filter."
        },
        "cache": {
          "$ref": "#/$defs/enrichmentCache",
          "description": "Cache configuration for enrichment filter."
        },
        "mergeStrategy": {
          "type": "string",
          "description": "How to merge enrichment data into records.",
          "enum": [
            "merge",
            "replace",
            "append"
          ],
          "default": "merge"
        },
        "dataField": {
          "type": "string",
          "description": "JSON field containing the data in the enrichment response."
        },
        "authentication": {
          "$ref": "#/$defs/authentication",
          "description": "Authentication for enrichment HTTP requests."
        },
        "headers": {
          "$ref": "#/$defs/httpHeaders",
          "description": "Custom headers for enrichment HTTP requests."
        }
      },
      "additionalProperties": true,
      "allOf": [
        {
          "$ref": "#/$defs/moduleBase"
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "mapping"
              }
            },
            "required": [
              "type"
            ]
          },
          "then": {
            "required": [
              "mappings"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "condition"
              }
            },
            "required": [
              "type"
            ]
          },
          "then": {
            "required": [
              "expression"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "script"
              }
            },
            "required": [
              "type"
            ]
          },
          "then": {
            "allOf": [
              {
                "anyOf": [
                  {
                    "required": [
                      "script"
                    ]
                  },
                  {
                    "required": [
                      "scriptFile"
                    ]
                  }
                ]
              },
              {
                "not": {
                  "required": [
                    "script",
                    "scriptFile"
                  ]
                }
              }
            ]
          }
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "enrichment"
              }
            },
            "required": [
              "type"
            ]
          },
          "then": {
            "required": [
              "endpoint",
              "key"
            ]
          }
        }
      ]
    },
    "enrichmentKey": {
      "type": "object",
      "description": "Key extraction configuration for enrichment filter.",
      "required": [
        "field",
        "paramType",
        "paramName"
      ],
      "properties": {
        "field": {
          "type": "string",
          "description": "Dot-notation path to extract key value from record (e.g., 'customer.id')."
        },
        "paramType": {
          "type": "string",
          "description": "How to include the key in the HTTP request.",
          "enum": [
            "query",
            "path",
            "header"
          ]
        },
        "paramName": {
          "type": "string",
          "description": "Parameter name to use in the request."
        }
      },
      "additionalProperties": false
    },
    "enrichmentCache": {
      "type": "object",
      "description": "Cache configuration for enrichment filter.",
      "properties": {
        "maxSize": {
          "type": "integer",
          "description": "Maximum number of entries in the cache.",
          "minimum": 1,
          "default": 1000
        },
        "defaultTTL": {
          "type": "integer",
          "description": "Default TTL for cache entries in seconds.",
          "minimum": 1,
          "default": 300
        },
        "key": {
          "type": "string",
          "description": "Cache key configuration (optional). If not specified, uses default: endpoint + '::' + keyValue. Can be: a static string, a JSON path expression starting with '$.', or a dot notation path (e.g., 'user.profile.id')."
        }
      },
      "additionalProperties": false
    },
    "cloneCopy": {
      "type": "object",
      "required": [
        "id"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "select": {
          "type": "string"
        },
        "build": {
          "type": "object",
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    },
    "advancedMapping": {
      "type": "object",
      "properties": {
        "targetRoot": {
          "type": "string",
          "default": "$"
        },
        "fields": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/fieldMapping"
          }
        }
      },
      "additionalProperties": true
    },
    "outputModule": {
      "type": "object",
      "description": "Output module configuration.",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "description": "Output type. Canonical: httpRequest, multi.",
          "minLength": 1
        },
        "connectionRef": {
          "type": "string"
        },
        "endpoint": {
          "type": "string"
        },
        "method": {
          "$ref": "#/$defs/httpMethod"
        },
        "headers": {
          "$ref": "#/$defs/httpHeaders"
        },
        "authentication": {
          "$ref": "#/$defs/authentication"
        },
        "request": {
          "$ref": "#/$defs/httpRequestConfig"
        },
        "outputs": {
          "type": "array",
          "description": "Sub-outputs for type=multi.",
          "items": {
            "$ref": "#/$defs/outputModule"
          },
          "minItems": 1
        },
        "success": {
          "$ref": "#/$defs/successCondition"
        }
      },
      "additionalProperties": true,
      "allOf": [
        {
          "$ref": "#/$defs/moduleBase"
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "httpRequest"
              }
            },
            "required": [
              "type"
            ]
          },
          "then": {
            "required": [
              "endpoint",
              "method"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "multi"
              }
            },
            "required": [
              "type"
            ]
          },
          "then": {
            "required": [
              "outputs"
            ]
          }
        }
      ]
    },
    "httpRequestConfig": {
      "type": "object",
      "properties": {
        "method": {
          "$ref": "#/$defs/httpMethod"
        },
        "path": {
          "type": "string"
        },
        "pathParams": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "query": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "bodyFrom": {
          "type": "string"
        },
        "headers": {
          "$ref": "#/$defs/httpHeaders"
        }
      },
      "additionalProperties": true
    },
    "successCondition": {
      "type": "object",
      "properties": {
        "lang": {
          "type": "string",
          "enum": [
            "cel",
            "jsonata",
            "simple"
          ],
          "default": "simple"
        },
        "expression": {
          "type": "string"
        }
      },
      "additionalProperties": true
    },
    "fieldMapping": {
      "type": "object",
      "description": "Field mapping. Requires {source, target}.",
      "required": [
        "source",
        "target"
      ],
      "properties": {
        "source": {
          "type": "string",
          "description": "Source field path."
        },
        "target": {
          "type": "string",
          "description": "Target field path."
        },
        "confidence": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "transforms": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/transformOp"
          }
        },
        "defaultValue": {},
        "onMissing": {
          "type": "string",
          "enum": [
            "setNull",
            "skipField",
            "useDefault",
            "fail"
          ],
          "default": "setNull"
        }
      },
      "additionalProperties": true
    },
    "transformOp": {
      "type": "object",
      "required": [
        "op"
      ],
      "properties": {
        "op": {
          "type": "string",
          "description": "Operation name.",
          "examples": [
            "trim",
            "lowercase",
            "uppercase",
            "dateFormat",
            "replace",
            "split",
            "join",
            "toString",
            "toInt",
            "toFloat",
            "toBool",
            "toArray",
            "toObject"
          ]
        },
        "format": {
          "type": "string"
        },
        "pattern": {
          "type": "string"
        },
        "replacement": {
          "type": "string"
        },
        "separator": {
          "type": "string"
        }
      },
      "additionalProperties": true
    },
    "authentication": {
      "type": "object",
      "required": [
        "type"
      ],
      "oneOf": [
        {
          "$ref": "#/$defs/apiKeyAuth"
        },
        {
          "$ref": "#/$defs/bearerAuth"
        },
        {
          "$ref": "#/$defs/oauth2Auth"
        },
        {
          "$ref": "#/$defs/extensibleAuth"
        }
      ]
    },
    "apiKeyAuth": {
      "type": "object",
      "required": [
        "type",
        "header",
        "valueRef"
      ],
      "properties": {
        "type": {
          "const": "apiKey"
        },
        "header": {
          "type": "string"
        },
        "valueRef": {
          "type": "string",
          "pattern": "^\\$\\{[A-Z_][A-Z0-9_]*\\}$"
        }
      },
      "additionalProperties": false
    },
    "bearerAuth": {
      "type": "object",
      "required": [
        "type",
        "token"
      ],
      "properties": {
        "type": {
          "const": "bearer"
        },
        "token": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "oauth2Auth": {
      "type": "object",
      "description": "OAuth2 authentication. Use either clientId or clientIdRef (not both), same for clientSecret.",
      "required": [
        "type",
        "tokenUrl"
      ],
      "properties": {
        "type": {
          "enum": [
            "oauth2Basic",
            "oauth2_client_credentials"
          ]
        },
        "tokenUrl": {
          "type": "string",
          "format": "uri"
        },
        "clientIdRef": {
          "type": "string",
          "description": "Reference to env var: ${VAR_NAME}"
        },
        "clientId": {
          "type": "string",
          "description": "Direct value (avoid in production)"
        },
        "clientSecretRef": {
          "type": "string",
          "description": "Reference to env var: ${VAR_NAME}"
        },
        "clientSecret": {
          "type": "string",
          "description": "Direct value (avoid in production)"
        },
        "scope": {
          "type": "string"
        }
      },
      "allOf": [
        {
          "not": {
            "required": [
              "clientId",
              "clientIdRef"
            ]
          },
          "errorMessage": "Use either clientId or clientIdRef, not both"
        },
        {
          "not": {
            "required": [
              "clientSecret",
              "clientSecretRef"
            ]
          },
          "errorMessage": "Use either clientSecret or clientSecretRef, not both"
        }
      ],
      "additionalProperties": false
    },
    "extensibleAuth": {
      "type": "object",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "not": {
            "enum": [
              "apiKey",
              "bearer",
              "oauth2Basic",
              "oauth2_client_credentials"
            ]
          }
        }
      },
      "additionalProperties": true
    },
    "errorHandling": {
      "type": "object",
      "description": "DEPRECATED: Use connector.defaults instead. Kept for backward compatibility.",
      "properties": {
        "retryCount": {
          "type": "integer",
          "description": "DEPRECATED: Use defaults.retry.maxAttempts",
          "minimum": 0,
          "maximum": 10,
          "default": 3
        },
        "retryDelayMs": {
          "type": "integer",
          "description": "DEPRECATED: Use defaults.retry.delayMs",
          "minimum": 0,
          "default": 1000
        },
        "backoffMultiplier": {
          "type": "number",
          "minimum": 1,
          "maximum": 10,
          "default": 2
        },
        "maxRetryDelayMs": {
          "type": "integer",
          "description": "DEPRECATED: Use defaults.retry.maxDelayMs",
          "minimum": 0,
          "default": 30000
        },
        "retryableStatusCodes": {
          "type": "array",
          "items": {
            "type": "integer",
            "minimum": 400,
            "maximum": 599
          },
          "default": [
            429,
            500,
            502,
            503,
            504
          ]
        },
        "onError": {
          "type": "string",
          "enum": [
            "fail",
            "skip",
            "log"
          ],
          "default": "fail"
        }
      },
      "additionalProperties": true
    },
    "httpMethod": {
      "type": "string",
      "enum": [
        "GET",
        "POST",
        "PUT",
        "PATCH",
        "DELETE"
      ],
      "default": "GET"
    },
    "httpHeaders": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      }
    }
  }
}
